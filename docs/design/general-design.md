# General Design

### Submissions

Analyses are performed on *Submissions*, which includes one or more files. This allows analysis to be performed with multiple files at a time, needed for certain malware families and techniques. When uploading files, you upload to a *Submission*, then run a *Job* on it. Any files extracted from the sample are placed back into the submission. This also means that files can be uploaded multiple times to different submissions.

Individual files can be still accessed directly through the submission they were uploaded in. 

### Files

A Submission contains one or more File objects.

### Plugins

Plugins are at the core of Kogia's capabilities. All analysis is performed by plugins. One or more plugins are run in *Jobs*. Plugins come in different types and serve different roles, but each usually perform a single task, such as running a tool against the same or executing the sample in a sandbox to collect syscalls. The use of plugins allows immense flexibility when performing analyses. 

The currently loaded plugins can be viewed in the web UI by going to "information" icon in the top right and selecting "Plugins" from the dropdown.

### Jobs

Jobs consist of a collection of plugins run on a sample and the data extracted from the plugins. Jobs are used for both for initial pre-analysis extraction and identification as well as analysis itself. This shows as two different jobs in the Jobs interface. Pre-analysis jobs will have no score and less output. Analysis jobs have a score and will show more results.

### Execution Instances

Execution Instances represent a single instance of dynamic analysis. This is abstracted in Kogia to allow support for different dynamic analysis capabilities. Execution Instances bring together things like process tree, network traffic data, and metadata.

### Processes

Execution Instances will have on more Process objects. This object allows access to syscalls and events related to that process. It stores information such as loaded libraries and process identifiers.

### Events

Events are general objects that represent an event that occured during dynamic analysis. It has a key value, with general use source, destiation, and data fields. Commonly, events are constructed using raw syscall data to make activity consist. Constructing events allows easier viewing in the web UI, better comparison between Execution Instances, and helps reduce noise.

### Syscalls

Syscalls are raw system activity API calls from dynamic analysis plugins. While viewable raw in the web UI, plugins should convert syscall data into events to reduce noise and normalize activity information.

### NetworkComm

NetComm objects store general networking data, such as source and destination addresses and ports as well as transmitted data.

### Metadata

Metadata is key-value pairs stored in the graph database. Plugins can extract data and store them as Metadata in Kogia. Keys can be any string. Inserting data as Metadate allows exploration in the web UI, including sorting, filtering, and graph-based analysis to find connections between samples or execution instances. Metadata can be tied to Files, Execution Instances, and Processes.

### Reports

Reports are raw data stored in Kogia. Usually this is direct output from tools that can be viewed in the web UI. This data is not usually used for graph exploration. Examples might be the full output of the `strings` command.

### Signature

Signatures have two portions, the Signature and Signature Match. A Signature object represents a known activity which is shown on the web UI on the Overview page for an analysis job. The Signature Match links the Job to the Signature, allowing the Match to store things like time and links to syscalls without applying this directly to the Signature itself. This allows better graph exploration.

### ExportFile

An ExportFile object represents a file generated by a Export Plugin. It provides access to the cached version in Kogia's filestore, the export plugin used, and information on the job its related to.